<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiamFza2lyYXRyIiwiYSI6ImNpd2JmZWlkODA1YXcyb21ocXFiMmZtYWwifQ.x9y8_Vny6lJn3htQYogjlw'
var simple = {
	'version': 8,
	'sources': {
		'osm': {
			'type': 'vector',
			'tiles': ['http://localhost:8080/data/landuse/{z}/{x}/{y}.pbf']
		}
	},
	'layers': [
		{
			'id': 'background',
			'type': 'background',
			'paint': {
				'background-color': '#333'
			}
		}, 
		{
		'id': 'buildings',
		'type': 'fill-extrusion',
		'source': 'osm',
		'source-layer': 'heatRiskMNgeojson',
		'filter': ['has', 'height'],
		'paint': {
			'fill-extrusion-color': {
				'property': 'risk_heat',
				'stops': [
					[0.35, 'blue'],
					[0.7, 'yellow'],
					[0.8, 'red']
				]
			},
			'fill-extrusion-height': {
				'type': 'identity',
				'property': 'height'
			},
			'fill-extrusion-base': {
				'type': 'identity',
				'property': 'min_height'
			},
			'fill-extrusion-opacity': 1
		}
	}]
}

var map = new mapboxgl.Map({
	container: 'map',
	style: simple,
	center: [-73.990349, 40.740083],
	zoom: 14,
	pitch: 45,
	bearing: -17.6,
	minZoom: 12
})

map.addControl(new mapboxgl.NavigationControl())
</script>
</body>
</html>

